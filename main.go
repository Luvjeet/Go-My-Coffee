package main

import (
	particles "coffee-maker/particle"
	"fmt"
	"time"
)

var c = `                .,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,.
              :,,,:::,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,::,,,,
             ,,::::::;;;++**??????*********************???????**++;;::::::,,;
             ;::::;?%S#########SSS%%%???????????????%%%SSS#########SS%*;::::;
             ;;;;::;;++**??%%%%%%%%%%%%%%%??????%%%%%%%%%%%%%%???**++;;::;;;:
             ;;;;;::::::::::::::::::::::::::::::::::::::::::::::::::::;;;;;;
             ;+;;:::::::::::::::::::,,,,,,,,,,,,,,,,,::::::::::::::::::;;;;;::.
              ++**;;::::,:::::::::,,,,,,,,,,,,,,,,,,,,,:::::::::::;;;++***+::::,,:
              ;;;++++++++***++++;;;;;;;::::::::::::;;;;;;+++++***????**++;;::,,,,::
              ;;;;::::::;++*******??????????????????????******++++;;;;:;;:;::::,:,:
               ;:;;:::::,::::::::::::::::::::::::::::::::::::::::::::;;;;;;   :::::,
               ;;;;;:::::::::::::::::::::::::::::::::::::::::::::::;;;;;;;    ::::::
                ;;;;:::::::::::::::::::::::::::::::::::::::::::::;;;;;;;;   .:::::::
                 ;;;;::::::::::::::::::::::::::::::::::::::::::;;;;;;;;;;::::::::::
                 ;;;;;:::::;;;::::::::::::::::::::::::::::::;;;;;;;;;;;:::::::::::
                  +;;;;::::;;;;;;;:::::::::::::::::::::;;;;;;;;;;;;;;;;;;:::::::
             #*++++;;;;;::::;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;++++?
      *  #+++;;;;;;;;;;;;:::;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;+++#  *
    *  ++;;;;;;;;;;;;;;;;;;::;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;++  *
  ** +;;;;;;;;;;;;;;;;;;;;;;::;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;+ **
 *?#+;;;;;;;;;;;;;;;;;;;;;;;;;:;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;+#?*
 %%#+;;;;;;;;;;;;;;;;;;;+++++;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;++++++;;;;;;;;;;;;;;;;;;+#?%
.??S;;;;;;;;;;;;;;;;;;;;+++*???+;;;;;;;;;;;;;;;;;;;;;;;;;+*???*++;;;;;;;;;;;;;;;;;;;;;S??.
.??%?;;;;;;;;;;;;;;;;;;;;;++*?%%%??*+;;;;;;;;;;;;;;;++*?%%%??*++;;;;;;;;;;;;;;;;;;;;;?%??.
 %%?%%+;;;;;;;;;;;;;;;;;:;;;;;++**??????**********??????**++;;;;;;;;;;;;;;;;;;;;;;;+%%?%%
 **???%%?*+;::;;;;;;;;;;;::::::::;;;;;;;;++++++++;;;;;;;;:::::::;;;;;;;;;;;;::;+*?%%???**
   %????%%%??*+;;::::::;;;;;:::::::::::::::::::::::::::::::::;;;;;;;:::::;;+*??%%%????%
    **%%%%%%%%%%%??**++;;;::::::::::::::::::::::::::::::::::::::;;;;+**??%%%%%%%%%%%**
      .%?%%%%%%%%%SSSSSS%%%%??****+++++;;;;;;;;;;;;++++++***???%%%%%SS%%%%%%%%%%%?%.
          *S%%%%%%%%%%%%SSSSSSSSS###############SSSSSSSSSSSSSSSSS%%%%%%%%%%%%%S*
               %S%S%%SSSSSSSSSSSSSSSSSSS#######SSSSSSSSSSSSSSSSSSS%%%%%S%S%*
                     *%SS%SSSSSSSSSSS###S#SSSSSSSSSSSSSSSSSSS%SS%SS%*
                                   %%SSSSSSSSSSSSSSSS%%%

`

func main() {
	coffee := particles.NewCoffee(61, 8, 9.0)
	coffee.Start()
	timer := time.NewTicker(100 * time.Millisecond)

    fmt.Print("\n\n\n\n\n\n")
	for {
		<-timer.C
		fmt.Print("\033[H\033[2J")
		coffee.Update()
		steam := coffee.Display()
		for _, row := range steam {
			fmt.Printf("              %s\n", row)
		}
		fmt.Println(c)
	}
}
